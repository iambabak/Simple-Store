{"version":3,"file":"static\\development\\pages\\index.js","sources":["webpack:///webpack/bootstrap","webpack:///./actions/actionTypes.js","webpack:///./actions/actions.js","webpack:///./actions/apiToReduxBridge.js","webpack:///./agent.js","webpack:///./api/createConfig.js","webpack:///./components/CreateForm.js","webpack:///./components/FavatioyProducts.js","webpack:///./components/Header.js","webpack:///./components/Layout.js","webpack:///./components/LogIn.js","webpack:///./components/SearchBar.js","webpack:///./components/addToBasket.js","webpack:///./pages/index.js","webpack:///./pages/post.js","webpack:///./reducer/addToCreditReducer.js","webpack:///./reducer/authReducer.js","webpack:///./reducer/reducer.js","webpack:///./reducer/rootReducer.js","webpack:///./store/defaultStore.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@material-ui/core/Grid\"","webpack:///external \"@material-ui/core/GridList\"","webpack:///external \"@material-ui/core/GridListTile\"","webpack:///external \"@material-ui/core/GridListTileBar\"","webpack:///external \"@material-ui/core/IconButton\"","webpack:///external \"@material-ui/core/styles\"","webpack:///external \"@material-ui/icons/StarBorder\"","webpack:///external \"axios\"","webpack:///external \"isomorphic-unfetch\"","webpack:///external \"jss\"","webpack:///external \"next/head\"","webpack:///external \"next/link\"","webpack:///external \"next/router\"","webpack:///external \"os\"","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools-extension\"","webpack:///external \"redux-thunk\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","export const CATEGORIES= \"CATEGORIES\"\r\nexport const AUTH_DATA= \"AUTH_DATA\"\r\nexport const ADD_TO_CREDIT= \"ADD_TO_CREDIT\"\r\nexport const GET_CART_DATA= \"GET_CART_DATA\"\r\n\r\n\r\n\r\n","import createConfig from \"../api/createConfig\";\r\nimport axios from 'axios'\r\nimport Post from \"../pages/post\";\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST'\r\nimport * as actionTypes from './actionTypes'\r\nimport { getAccessToken } from './apiToReduxBridge'\r\nimport {createFormData} from '../components/CreateForm'\r\nimport {setToken} from '../agent'\r\nimport {getToken} from '../agent'\r\n\r\n\r\nexport const getConfig = (additionalSettings = {}) =>\r\n  createConfig(getAccessToken(), additionalSettings)\r\n\r\n\r\n  const categories = () => async ( dispatch) => {\r\n    let response = await fetch(\r\n        `http://api.projectant.aasoo.ir/shelves/categories/list/`, \r\n        getConfig()\r\n      );\r\n      const data = await response.json();\r\n      console.log('data',data)\r\n      //sddf\r\n      // let obj = {product:\"product_TapsdvOdT8\", count:\"1\"}\r\n      // let response2 =   axios.post(`http://api.projectant.aasoo.ir/orders/cart/add/`, createFormData(obj) , getConfig(obj))\r\n  \r\n\r\n    return dispatch({ type: actionTypes.CATEGORIES, data: data })\r\n  }\r\n  export const fetchCategoriesIfneeded = () => dispatch => {\r\n      return dispatch(categories());\r\n  };\r\n  //LogIn dispatch\r\n   const logInReq = formData => async ( dispatch) => {\r\n     console.log('formDataformData',formData)\r\n      // return axios.post(`${BASE_URL}/auth/login/`, formdata, getConfig(formdata))\r\n      let response = await axios.post(`http://api.projectant.aasoo.ir/auth/login/`, formData, getConfig(formData))\r\n      console.log('response auth token value',response)\r\n      localStorage.setItem('myData',JSON.stringify(response.data.data) );\r\n      let settokenval= setToken(response.data.data)\r\n      console.log('settokenval without value')\r\n\r\n      console.log('settokenval',settokenval)\r\n      // const data = await response.json();\r\n    console.log('login data',response.data.data.token)\r\n    return dispatch({ type: actionTypes.AUTH_DATA, data: response.data.data.token })\r\n\r\n    // let response = await fetch(`http://api.projectant.aasoo.ir/auth/login/`,\r\n    // {\r\n    //   method: 'post'      \r\n    // },\r\n    // formData,\r\n    // createConfig(formData)\r\n    // )\r\n    // const data = await response.json();\r\n    // console.log('login data',data)\r\n  \r\n  }\r\n  export const fetchlogInReqIfneeded = formData => dispatch => {\r\n    //   if (shouldFetchPosts(getState(), subreddit)) {\r\n      return dispatch(logInReq(formData));\r\n    //   }\r\n  };\r\n  // fetchAuthDataForGuest\r\n  export const fetchAuthDataForGuest = body => async ( dispatch) => {\r\n     let response = await axios.post(`http://api.projectant.aasoo.ir/profiles/guest/`,body ,getConfig())\r\n     console.log('response',response)\r\n     localStorage.setItem('myData',JSON.stringify(response.data.data) );\r\n     let settokenval= setToken(response.data.data.token)\r\n     let getTokenval= getToken(response.data.data.token)\r\n\r\n      console.log('getTokenval without value')\r\n      console.log('settokenval',settokenval)\r\n\r\n      console.log('getTokenval',getTokenval)\r\n\r\n     console.log('response auth',response.data.data.token)\r\n     return dispatch({ type: actionTypes.AUTH_DATA, data: response.data.data.token }) \r\n}\r\n const AddToCredit = productSlug => async ( dispatch) => {\r\n   //\"product_TapsdvOdT8\"\r\n  let obj = {product:productSlug, count:\"1\"}\r\n  let response =  await axios.post(`http://api.projectant.aasoo.ir/orders/cart/add/`, createFormData(obj) , getConfig(obj))\r\n  console.log('response for add to credit 444',response.data.data.cart_product.product)\r\n  return dispatch({ type: actionTypes.ADD_TO_CREDIT, data: response.data.data.cart_product }) \r\n}\r\nexport const fetchAddToCredit = productSlug => dispatch => {\r\n  return dispatch(AddToCredit(productSlug));\r\n};\r\n// export const fetchCartDataIfNeeded = () => async ( dispatch) => {\r\n//       let response =  await axios.post(`http://api.projectant.aasoo.ir/orders/cart/add/`, getConfig())\r\n//       console.log('responseresponse',response)\r\n//   return dispatch({type: actionTypes.GET_CART_DATA, data: response});\r\n// };\r\nconst fetchCartData = () => async ( dispatch) => {\r\n  //\"product_TapsdvOdT8\"\r\n  let body = null\r\n  let response =  await axios.get(`http://api.projectant.aasoo.ir/orders/cart/show/` ,getConfig())\r\n  console.log('responseresponse',response)\r\nreturn dispatch({type: actionTypes.GET_CART_DATA, data: response});\r\n}\r\nexport const fetchCartDataIfNeeded = () => dispatch => {\r\n return dispatch(fetchCartData());\r\n};","import { getAuthToken } from '../reducer/rootReducer'\r\n\r\nexport const getAccessToken = () => getAuthToken() || null\r\n","let _token \r\nexport const setToken = (token) => {\r\n    _token = token\r\n    console.log('_token',_token)\r\n    return _token\r\n }\r\n export const getToken = () => {\r\n     return _token\r\n }","\r\n  const STORE_ADDRESS = 'sib'\r\n  const API_KEY = '0f855b9c2f5ee2a21e530bcaa82a645286724fba'\r\n\r\nconst baseHttpConfig = {\r\n  validateStatus: status => status < 500,\r\n  headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    'x-api-key': API_KEY,\r\n    accept: 'application/json',\r\n    'x-store-sub-address':STORE_ADDRESS\r\n  }\r\n}\r\n\r\nconst generateAuthHeaders = accessToken => ({\r\n  ...baseHttpConfig.headers,\r\n  Authorization: `Token ${accessToken}`\r\n})\r\n\r\nexport default function createConfig(accessToken, additionalSettings) {\r\n  if (!accessToken) {\r\n    console.log('token not', accessToken)\r\n    const config = { ...baseHttpConfig, ...additionalSettings }\r\n    return config\r\n  }\r\n\r\n  const headerSettings = { headers: generateAuthHeaders(accessToken) }\r\n  console.log('headerSettings',headerSettings)\r\n  const config = {\r\n    ...baseHttpConfig,\r\n    ...headerSettings,\r\n    ...additionalSettings\r\n  }\r\n\r\n  return config\r\n}\r\n\r\n\r\n","export const createFormData = formObject => {\r\n    let formData = new FormData()\r\n    appendToFormData(formObject, formData)\r\n    console.log('formData',formData)\r\n    console.log('formObject',formObject)\r\n\r\n    return formData\r\n  }\r\n  export function appendToFormData(formObject, formData) {\r\n    for (const field in formObject) {\r\n      if (formObject.hasOwnProperty(field)) {\r\n        const fieldValue = formObject[field]\r\n  \r\n        if (fieldValue !== undefined) {\r\n          if (typeof fieldValue === \"object\") {\r\n            if (\r\n              typeof fieldValue.name === \"string\" &&\r\n              typeof fieldValue.size === \"number\"\r\n            ) {\r\n              // it's a file\r\n              formData.append(field, fieldValue)\r\n            } else {\r\n              // it's an object\r\n              if (Array.isArray(fieldValue)) {\r\n                // array\r\n                formData.append(field, JSON.stringify(fieldValue))\r\n              } else {\r\n                // plain object\r\n                formData.append(field, JSON.stringify(fieldValue))\r\n              }\r\n            }\r\n          } else {\r\n            // it's not an object\r\n            formData.append(field, fieldValue)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\nimport Link from \"next/link\";\r\n// import CardWrapper from './CardWrapper'\r\n// import Grid from '@material-ui/core/Grid';\r\n// import { unstable_Box as Box } from '@material-ui/core/Box';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n    transform: 'translateZ(0)',\r\n  },\r\n  title: {\r\n    color: theme.palette.primary.light,\r\n  },\r\n  titleBar: {\r\n    background:\r\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\r\n  },\r\n});\r\n\r\n\r\nconst FavoritProducts = (favoritProducts) => (\r\n  \r\n    <div >\r\n      <h2>Favorite Products</h2>\r\n      <GridList  cols={3} style={{flexWrap:\"nowrap\", transform:\"0\"}}>\r\n        {favoritProducts.favoritProducts.data.products.map(product => (\r\n        <Link key={product.address} as={`/p/${product.address}`} href={`/post?address=${product.address}`}>\r\n          <a style={{textDecoration:\"none\"}}>\r\n          <GridListTile style={{padding:\"20px\"}}  >\r\n            <img src={product.thumbnail} style={{maxWidth:\"30vw\", maxHeight:\"30vh\"}}  />\r\n            <GridListTileBar\r\n              subtitle={product.price}\r\n              title={product.title}\r\n              price={product.price}\r\n              \r\n            />\r\n                          {product.price}\r\n\r\n          </GridListTile>\r\n          </a>\r\n          </Link>\r\n\r\n        ))}\r\n      </GridList>\r\n      \r\n    </div>\r\n  )\r\n  export default withStyles(styles)(FavoritProducts);\r\n\r\n","import react, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport categories from \"../actions/actions\";\r\nimport { fetchCategoriesIfneeded } from \"../actions/actions\";\r\nimport Router from \"next/router\";\r\nimport SearchBar from './SearchBar'\r\nimport Link from \"next/link\";\r\nimport LogIn from './LogIn'\r\nimport {fetchAuthDataForGuest} from '../actions/actions'\r\nimport Head from 'next/head';\r\nimport stylesheet from '../header.css'\r\nclass Header extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      clickFistChart: \"none\",\r\n      click: \"none\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    console.log(\"size\", this.props.data.length);\r\n    dispatch(fetchCategoriesIfneeded());\r\n    console.log('this.props.auth',this.props.auth)\r\n    // if(this.props.auth === undefined){\r\nif( localStorage.myData===undefined){\r\n    console.log('yesss')\r\n      dispatch(fetchAuthDataForGuest())\r\n\r\n    }\r\n    console.log('this.props.auth2',this.props.auth)\r\n\r\n  }\r\n\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"header1\">\r\n      <Head>\r\n          <meta charSet=\"UTF-8\" />\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\r\n          <title>{'Next.js Starter Project'}</title>\r\n          <style dangerouslySetInnerHTML={{__html: stylesheet}}/>\r\n          <script src=\"https://cdn.polyfill.io/v2/polyfill.min.js\"/>\r\n        </Head>\r\n        <Link  href={`/cart`}>\r\n            <button>go to cart page</button>\r\n          </Link>\r\n        slug: {this.props.slug}\r\n        price: {this.props.price}\r\n        <button onClick={()=>console.log('this.props.basket',this.props.products)}>this.props.basket</button>\r\n        <LogIn/>\r\n        <SearchBar/>\r\n        <button onClick={()=>console.log('this.props.auth late',this.props.auth)}>auth</button>\r\n        {this.props.auth}\r\n        \r\n        <section id=\"navigation\">\r\n    <div class=\"small-navbar\">\r\n      <div class=\"spinner-master\">\r\n        <input type=\"checkbox\" onchange='handleChange(this);' id=\"spinner-form3\" />\r\n        <label class=\"spinner-spin3\" for=\"spinner-form3\">\r\n          <div class=\"spinner3 diagonal part-1\"></div>\r\n          <div class=\"spinner3 horizontal\"></div>\r\n          <div class=\"spinner3 diagonal part-2\"></div>\r\n        </label>\r\n        <div id=\"side-nav\" class=\"side-nav\">\r\n        {this.props.data.map(category => (\r\n          <Link as={`/category/${category.address}`} href={`/category?address=${category.address}`}>\r\n          <a>{category.title}</a>\r\n          </Link>\r\n        ))}\r\n        </div>\r\n      </div>\r\n      <div class=\"dots-master\">\r\n        <input type=\"checkbox\" id=\"dots-form\" />\r\n        <label class=\"dots3\" for=\"dots-form\">\r\n          <div class=\"dots diagonal part-1\"></div>\r\n          <div class=\"dots horizontal\"></div>\r\n          <div class=\"dots diagonal part-2\"></div>\r\n        </label>\r\n      </div>\r\n      <div class=\"clearfix\"></div>\r\n    </div>\r\n    <div class=\"nav-bar\">\r\n      <ul>\r\n      {this.props.data.map(category => (\r\n          <Link as={`/category/${category.address}`} href={`/category?address=${category.address}`}>\r\n          <li><a>{category.title}</a></li>\r\n          </Link>\r\n        ))}\r\n        \r\n      </ul>\r\n    </div>\r\n  </section>\r\n  <style dangerouslySetInnerHTML={{__html: stylesheet}}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    // data: state.categoriesReducer.data\r\n    data: state.categoriesReducer.data,\r\n    auth: state.authReducer.token,\r\n    slug: state.addToCreditReducer.slug,\r\n    price: state.addToCreditReducer.total_price,\r\n    products: state.addToCreditReducer.products\r\n\r\n\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import Header from './Header'\r\nconst layoutStyle = {\r\n  margin: 20,\r\n  padding: 20,\r\n//   border: '1px solid #DDD'\r\n}\r\n\r\nconst Layout = (props) => (\r\n  <div style={layoutStyle}>\r\n    hello\r\n    <Header/>\r\n    {props.children}\r\n  </div>\r\n)\r\n\r\nexport default Layout\r\n","import react, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {fetchlogInReqIfneeded} from '../actions/actions'\r\nimport {createFormData} from './CreateForm'\r\n\r\nclass LogIn extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n        Username:'',\r\n        Password:''\r\n    };\r\n  }\r\n  handleUsernameChange = () =>{\r\n      this.setState({\r\n          Username : this.user.value\r\n      })\r\n  }\r\n  handlePasswordChange = () =>{\r\n    this.setState({\r\n        Password : this.pass.value\r\n    })\r\n}\r\n\r\ndispatchLogIn = () =>{\r\n    const { dispatch } = this.props;\r\n    let values = {username:this.state.Username,password: this.state.Password}\r\n    dispatch(fetchlogInReqIfneeded(createFormData(values)));\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n          <input\r\n      placeholder=\"Username\"\r\n      ref={input => this.user = input}\r\n      onChange={this.handleUsernameChange}\r\n    />\r\n    <input\r\n         placeholder=\"Password\"\r\n         type=\"password\"\r\n         ref={input => this.pass = input}\r\n         onChange={this.handlePasswordChange}\r\n       />\r\n    <button onClick={this.dispatchLogIn}>aaa</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    data: state.data\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(LogIn);\r\n","import react, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport categories from \"../actions/actions\";\r\nimport { fetchCategoriesIfneeded } from \"../actions/actions\";\r\nimport Router from \"next/router\";\r\nimport Link from \"next/link\";\r\n\r\nclass SearchBar extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n        value:''\r\n      \r\n    };\r\n  }\r\n  handleInputChange = () => {\r\n    this.setState({\r\n      value: this.search.value\r\n    })\r\n  }\r\n  searchResult = () => {\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input\r\n         placeholder=\"Search for...\"\r\n         ref={input => this.search = input}\r\n         onChange={this.handleInputChange}\r\n       />\r\n       <Link as={`/search/${this.state.value}`} href={`/search?address=${this.state.value}`}>\r\n       <button>search</button>\r\n       </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    data: state.data\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(SearchBar);\r\n// export default Header\r\n","import get from \"../api/createConfig\";\r\nimport { createFormData } from \"./CreateForm\";\r\n\r\nimport axios from \"axios\";\r\nimport { create } from \"jss\";\r\nconst addToBasket = props => {\r\n  let obj = { product: \"product_lAZJwOg8VT\", count: \"1\" };\r\n  let response = axios.post(\r\n    `http://api.projectant.aasoo.ir/orders/cart/add/`,\r\n    createFormData(obj),\r\n    createConfig()\r\n  );\r\n  console.log(\"response\", response);\r\n};\r\n\r\nexport default addToBasket;\r\n","import fetch from \"isomorphic-unfetch\";\r\nimport createConfig from \"../api/createConfig\";\r\nimport Link from \"next/link\";\r\nimport FavoritProducts from '../components/FavatioyProducts'\r\nimport Layout from '../components/Layout'\r\n// import Styles from '../header.css'\r\n// const styles = theme => ({\r\n//   root: {\r\n//     textAlign: 'center',\r\n//     paddingTop: theme.spacing.unit * 20,\r\n//   },\r\n// });\r\nconst Index = props => (\r\n  <Layout>\r\n    <p style={{color:'red'}}>Simple Store</p>\r\n    {/* <style dangerouslySetInnerHTML={{__html: Styles}}/> */}\r\n\r\n    <div>\r\n      <FavoritProducts favoritProducts = {props.shows}/>\r\n     <ul>\r\n      {props.shows.data.products.map(( product ) => (\r\n        <li key={product.address}>\r\n          <Link as={`/p/${product.address}`} href={`/post?address=${product.address}`}>\r\n            <a style={{color:'red'}}>{product.title}</a>\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n    </div>\r\n  </Layout>\r\n);\r\nIndex.getInitialProps = async function() {\r\n  console.log('asdf')\r\n  const slug = \"food\"\r\n  let category_address = \"digital\"\r\n  let response = await fetch(\r\n    // `http://api.projectant.aasoo.ir/stores/store/sib/`,\r\n    `http://api.projectant.aasoo.ir/shelves/products/`,\r\n    // `http://api.projectant.aasoo.ir/shelves/categories/list/`,\r\n    // `http://api.projectant.aasoo.ir/shelves/category/address/${category_address}/products/`,\r\n    // `http://api.projectant.aasoo.ir/shelves/categories/category/${slug}/`,\r\n    // `http://api.projectant.aasoo.ir/auth/current-user/`,\r\n    // `http://api.projectant.aasoo.ir/shelves/products/?search=`,\r\n    createConfig()\r\n  );\r\n  const data = await response.json();\r\n  return {\r\n    shows: data\r\n  };\r\n};\r\n\r\nexport default Index;\r\n","import createConfig from \"../api/createConfig\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Layout from \"../components/Layout\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport addToBasket from \"../components/addToBasket\";\r\n\r\nconst Post = props => (\r\n  <Layout>\r\n    <Grid container>\r\n      <Grid item lg={1} md={1} xs={12}>\r\n        <h1>hil</h1>\r\n        <button onClick={addToBasket}>add to basket</button>\r\n        name: {props.show.data.product.address}\r\n        <img\r\n          src={props.show.data.product.thumbnail}\r\n          style={{ height: \"50%\", maxWidth: \"auto\" }}\r\n        />\r\n        price: {props.show.data.product.price}\r\n      </Grid>\r\n    </Grid>\r\n  </Layout>\r\n);\r\n\r\nPost.getInitialProps = async function(context) {\r\n  const { address } = context.query;\r\n\r\n  const res = await fetch(\r\n    `http://api.projectant.aasoo.ir/shelves/product/address/${encodeURIComponent(\r\n      address\r\n    )}/`,\r\n    // `http://api.projectant.aasoo.ir/shelves/products/?search=${search}`,\r\n    createConfig()\r\n  );\r\n  const show = await res.json();\r\n\r\n  return { show };\r\n};\r\n\r\nexport default Post;\r\n","\r\nimport initialState from '../store/defaultStore'\r\n\r\n\r\n\r\n\r\nexport const addToCreditReducer = (state = initialState, action) => {\r\n    if ( action.type ===\"ADD_TO_CREDIT\"){\r\n        console.log('action.product',action)\r\n        let cartData = {...state.products,[action.data.product]: {\r\n            ...state.products[action.data.product], slug: \r\n                action.data.product\r\n        }}\r\n        localStorage.setItem('cartData',JSON.stringify(cartData) );\r\n    return {\r\n        ...state,\r\n         products: {\r\n            ...state.products, \r\n                [action.data.product]: {\r\n                    ...state.products[action.data.product], slug: \r\n                        action.data.product\r\n                }\r\n            }\r\n         };\r\n\r\n    }\r\n    else\r\n      return state    \r\n}\r\n\r\n","\r\nimport initialState from '../store/defaultStore'\r\n\r\n\r\n\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    if ( action.type ===\"AUTH_DATA\"){\r\n      return {...state.auth, token: action.data}\r\n\r\n    }\r\n    else\r\n      return state    \r\n}\r\n\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport initialState from '../store/defaultStore'\r\nimport { combineReducers } from \"redux\"\r\n\r\n\r\n\r\n\r\nexport const categoriesReducer = (state = initialState, action) => {\r\n    if ( action.type ===\"CATEGORIES\"){\r\n      return {...state, data: action.data.data.categories}\r\n\r\n    }\r\n    else\r\n      return state    \r\n}\r\n\r\n\r\n// const rootReducer = combineReducers({\r\n    \r\n//     categoriesReducer\r\n// })\r\n\r\n\r\n\r\n// export const initStore = (state = initialState) => {\r\n//     return createStore(\r\n//       rootReducer,\r\n//       state,\r\n//       composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n//     )\r\n//   }\r\n//   export default initStore","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport initialState from '../store/defaultStore'\r\nimport { combineReducers } from \"redux\"\r\nimport {categoriesReducer} from './reducer'\r\nimport {authReducer} from './authReducer'\r\nimport {addToCreditReducer} from './addToCreditReducer'\r\nimport { type } from 'os';\r\n\r\nconst rootReducer = combineReducers({\r\n    \r\n    categoriesReducer,\r\n    authReducer,\r\n    addToCreditReducer\r\n})\r\n\r\n\r\n\r\nexport const initStore = (state = initialState) => {\r\n    return createStore(\r\n      rootReducer,\r\n      state,\r\n      composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n    )\r\n  }\r\n  export function getAuthToken() {\r\n    let myData = JSON.parse(localStorage.getItem('myData')) \r\n    if(myData!==null){\r\n    console.log('localStorage.token',myData.token )\r\n    return myData.token\r\n  }\r\n  else{\r\n    return null\r\n  }\r\n    // try {\r\n    //   return initStore.getState().auth.token\r\n    // } \r\n    // catch (error) {\r\n    //   return null\r\n    // }\r\n  }","export default {\r\n    auth: {\r\n        isAuthenticated: false,\r\n        token: ''\r\n      },\r\n    data: [],\r\n    basket:{\r\n      slug:'',\r\n    count:'',\r\n    total_price:''\r\n    },\r\n    products:{}\r\n}","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@material-ui/core/Grid\");","module.exports = require(\"@material-ui/core/GridList\");","module.exports = require(\"@material-ui/core/GridListTile\");","module.exports = require(\"@material-ui/core/GridListTileBar\");","module.exports = require(\"@material-ui/core/IconButton\");","module.exports = require(\"@material-ui/core/styles\");","module.exports = require(\"@material-ui/icons/StarBorder\");","module.exports = require(\"axios\");","module.exports = require(\"isomorphic-unfetch\");","module.exports = require(\"jss\");","module.exports = require(\"next/head\");","module.exports = require(\"next/link\");","module.exports = require(\"next/router\");","module.exports = require(\"os\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-thunk\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAKA;AACA;AAEA;AACA;AACA;AAVA;AAYA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAXA;AAYA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwBA;AAAA;AACA;AACA;AAEA;AAJA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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","sourceRoot":""}